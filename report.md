# 嵌入式系统实验报告 一
# 1.Introduction
## 1.1 键盘编码
按键过程：
当用户按下某个键时，
>1.键盘会检测到这个动作，并通过键盘控制器把扫描码（scan code)传送到计算机；键盘扫描码跟具体的硬件有关的，不同厂商对同一个键的扫描码有可能不同。
2.计算机接收到扫描码后，将其交给键盘驱动程序；
3.键盘驱动程序把这个扫描码转换为键盘虚拟码；虚拟码与具体硬件无关，不同厂商的键盘，同一个键的虚拟码总是相同的。然后，键盘驱动程序把该键盘操作的扫描码和虚拟码以及其它信息传递给操作系统；
4.操作系统将获得的信息封装在一个键盘消息中，并把该键盘消息插入到消息列队。
5.通过Windows的消息系统，该键盘消息被送到某个窗口中；
6.窗口所在的应用程序接收到消息后，可以了解到有关键盘操作的信息，然后决定作出一定的响应。


在Linux下，可以通过自带的`showkey`来获取：
```
showkey --help
showkey 版本 1.15.5
用法: showkey [选项...]
有效的选项:
	-h --help	显示此帮助文本
	-a --ascii	显示键的十进制/八进制/十六进制值
	-s --scancodes	只显示原始扫描码
	-k --keycodes	只显示翻译后的键码(默认)

```
KeyCode参数是指的键代码，也就是虚拟码。它用来在系统中标识一个键，注意，仅仅用于在系统中标识。我们通常不是直接用这个代码（数字，直接用还是很不好记忆），而是将它定义为字符常量，比如：Home键的虚拟码是&H24，在VB中用vbKeyHome这个常量表示，在C语言中用VK_HOME表示。当然，这些常量都不用你自己声明，直接用就可以了。需要说明的是，每个键的虚拟码都是唯一的，也就是不区分大小写，只用来表示一个位置，而不表示键的状态。

KeyAscii参数就比较容易理解了，当然就是键的Ascii码，强调表示一个字符，而不是强调键。在这要特别的解释一下VB 的KeyPress事件不响应某些按键，比如方向键，是因为这些键没有传统意义上的Ascii码（这些键只有虚拟码。我从网上查阅资料的时候发现很多人都把虚拟码并到Ascii里去了，这样非常容易造成读者混淆）。那么如何识别一个键有没有Ascii码呢？在这我教大家一个比较容易理解的方法，有Ascii码的键都是图形化的键，都是可以用符号表示的，比如字母上边的一排数字键，一般情况下表示为“1”，按住shift就表示“！”，这些都是具体的。而F1、方向键之类的则是抽象的（我们总不能把F1表示成“F1”吧！），没有Ascii与之对应。到这我们可以看出，Ascii码和虚拟码是相辅相成的，没有从属关系。
# 2.实验

# 3.实验总结

# Reference:

[ 键盘的扫描码虚拟码概念 常见Windows键盘按键虚拟码](http://blog.csdn.net/qq_22642239/article/details/52221356)
[由VB的KeyCode和KeyAscii到扫描码、虚拟码的思考](https://www.cnblogs.com/iyangyuan/archive/2011/08/14/2801870.html)
[Linux下C语言使用openssl库进行加密](https://www.cnblogs.com/wunaozai/p/3887009.html)
[利用openssl进行RSA加密解密](https://www.cnblogs.com/alittlebitcool/archive/2011/09/22/2185418.html)