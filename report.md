# 嵌入式系统实验报告 一
# 1.Introduction
## 1.1 键盘编码
按键过程：
当用户按下某个键时，
>1.键盘会检测到这个动作，并通过键盘控制器把扫描码（scan code)传送到计算机；键盘扫描码跟具体的硬件有关的，不同厂商对同一个键的扫描码有可能不同。
2.计算机接收到扫描码后，将其交给键盘驱动程序；
3.键盘驱动程序把这个扫描码转换为键盘虚拟码；虚拟码与具体硬件无关，不同厂商的键盘，同一个键的虚拟码总是相同的。然后，键盘驱动程序把该键盘操作的扫描码和虚拟码以及其它信息传递给操作系统；
4.操作系统将获得的信息封装在一个键盘消息中，并把该键盘消息插入到消息列队。
5.通过Windows的消息系统，该键盘消息被送到某个窗口中；
6.窗口所在的应用程序接收到消息后，可以了解到有关键盘操作的信息，然后决定作出一定的响应。


在Linux下，可以通过自带的`showkey`来获取：
```
showkey --help
showkey 版本 1.15.5
用法: showkey [选项...]
有效的选项:
	-h --help	显示此帮助文本
	-a --ascii	显示键的十进制/八进制/十六进制值
	-s --scancodes	只显示原始扫描码
	-k --keycodes	只显示翻译后的键码(默认)

```

KeyCode参数是指的键代码，也就是虚拟码。它用来在系统中标识一个键，注意，仅仅用于在系统中标识。我们通常不是直接用这个代码（数字，直接用还是很不好记忆），而是将它定义为字符常量，比如在curses库里，可以发现对每个键的相应定义，`#define KEY_DOWN	0402`。需要说明的是，每个键的虚拟码都是唯一的，也就是不区分大小写，只用来表示一个位置，而不表示键的状态。
KeyAscii参数就比较容易理解了，当然就是键的ascii码，强调表示一个字符，而不是强调键。某些按键，比如方向键，是因为这些键没有传统意义上的Ascii码（这些键只有虚拟码），所以需要用多个ascii码组合，比如`F2: ^[OQ`
scancodes是指扫描码，
>键盘上的每一个键都有两个唯一的数值进行标志。为什么要用两个数值而不是一个数值呢？这是因为一个键可以被按下，也可以被释放。当一个键按下时，它们产生一个唯一的数值，当一个键被释放时，它也会产生一个唯一的数值，我们把这些数值都保存在一张表里面，到时候通过查表就可以知道是哪一个键被敲击，并且可以知道是它是被按下还是被释放了。这些数值在系统中被称为键盘扫描码。
## 1.2 加密解密
### 1.2.1 单向加密
只能加密，不能解密，不可逆。常见的有：MD5(Message Digest algorithm 5，信息摘要算法)、SHA(Secure Hash Algorithm，安全散列算法)、HMAC(Hash Message Authentication Code，散列消息鉴别码)。
### 1.2.2 对称加密
对称加密(也叫私钥加密)指加密和解密使用相同密钥的加密算法。有时又叫传统密码算法，就是加密密钥和解密密钥是相同的，或者加密/解密密钥能够从解密/加密密钥中推算出来，所以也称这种加密算法为秘密密钥算法或单密钥算法。
常见的有DES、AES、RC系列算法。
### 1.2.3 非对称加密
非对称加密算法（asymmetric cryptographic algorithm）又名“公开密钥加密算法”。常见：RSA、DSA等算法。
# 2.实验
本次实验我主要借助linux自带的`showkey`工具实现了键盘编码的输出，利用openssl库实现了md5、sha1、rsa加密解密。

# 3.实验总结

# Reference:

[ 键盘的扫描码虚拟码概念 常见Windows键盘按键虚拟码](http://blog.csdn.net/qq_22642239/article/details/52221356)
[由VB的KeyCode和KeyAscii到扫描码、虚拟码的思考](https://www.cnblogs.com/iyangyuan/archive/2011/08/14/2801870.html)
[Linux下C语言使用openssl库进行加密](https://www.cnblogs.com/wunaozai/p/3887009.html)
[利用openssl进行RSA加密解密](https://www.cnblogs.com/alittlebitcool/archive/2011/09/22/2185418.html)